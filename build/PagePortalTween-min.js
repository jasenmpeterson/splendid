define(["./ScrollMagic","./ScrollMagicJQuery","./ScrollMagicAnimation","./TweenMax","./ScrollMagicIndicators"],function(e,t,o,a,n){return function(t){function o(e){TweenLite.onOverwrite=function(e,t,o,a){console.log("tween that was overwritten"),console.log(e.timeline.data.label),console.log(e),console.log("tween that did the overwriting"),console.log(t.timeline.data.label),console.log(t),console.log("the target of the overwritten tween"),console.log(o.innerHTML),console.log("properties that were overwritten"),console.log(a)};const t=x.querySelector(".textmodule");m.fromTo(t,n,{zIndex:2,opacity:1},{opacity:.5,x:"0",zIndex:1,delay:l,ease:i});const o=x.querySelector(".label");m.fromTo(o,n,{x:0,opacity:1},{x:"100rem",opacity:0,delay:l,ease:i}),d=x;for(var a=[t,d,o],r=0;r<a.length;r++)a[r].classList.remove("active"),a[r].classList.add("inactive");x=e,currentActiveTextModule=e.querySelector(".textmodule");for(var c=[x,currentActiveTextModule],s=0;s<c.length;s++)c[s].classList.remove("inactive"),c[s].classList.add("active");T.triggerElement(x)}const a="Power2.easeOut",n="0.8",l="0.2",r=!1;var c=null;const i="Power2.easeIn",s="0.5";var d=null,g=document.querySelector(".pageportal.active .textmodule");const u=new TimelineMax({data:{label:"pageportaltimeline"}}),m=new TimelineMax({data:{label:"pageportaltimelinereverse"}});if(u.add(m,"reverseTimeline"),document.querySelector(".pageportal.active .pageportalcontent")){const p=document.querySelector(".pageportal.active .pageportalcontent");u.fromTo(p,n,{y:"-20rem"},{y:0,opacity:1,ease:a},"scene1")}u.fromTo(g,n,{y:"-20rem"},{y:0,opacity:1,zIndex:2,delay:l,ease:a},"scene1");const y=document.querySelector(".pageportal.active .label");u.fromTo(y,n,{x:"100rem"},{x:0,opacity:1,delay:l,ease:a},"scene1");for(var v=2,f=0;f<t[1].length;f++)u.fromTo(t[1][f],n,{y:"20rem",top:"-5rem",zIndex:2},{y:0,opacity:1,ease:a},"scene"+v++);u.addPause(u.getLabelAfter());const w=new e.Controller;var x=document.querySelector(".pageportal.active");const T=new e.Scene({triggerElement:x,triggerHook:"onEnter",reverse:!1}).addIndicators();T.setTween(u),T.addTo(w),T.on("update",function(e){var t=u.isActive()?"isPlaying":"isNotPlaying";if(c=u.currentLabel(),"FORWARD"==w.info("scrollDirection")&&"isNotPlaying"==t){u.play(c).addPause(u.getLabelAfter());const a=x.nextElementSibling;a.classList.contains("pageportal")&&o(a)}})}});